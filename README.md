# Text Analysis System

Проект представляет собой микросервисное приложение для загрузки, хранения и анализа текстовых файлов. Система 
разработана на базе **Spring Boot** и использует **Docker**, **Gradle (Kotlin DSL)**, **PostgreSQL**, а 
также микросервисные компоненты: **Eureka Server**, **Flyway** и другие.

---

## Архитектура
* API Gateway
  * Внешний порт: 8080

  * Маршрутизирует запросы к другим микросервисам
  
  * Поддерживает Swagger через проксирование

* File Analysis Service
  * Внешний порт: 8081

  * Проводит анализ файлов на схожесть

  * Получает файлы от file-storage-service

  * Отправляет результаты анализа

  * Взаимодействует с WordCloudAPI, возвращает SVG-код картинки облака слов

* File Storage Service
  * Внешний порт: 8082

  * Сервис для загрузки, хранения и скачивания файлов

  * Сохраняет метаданные и бинарные данные файла в БД

  * Flyway используется для миграций

* Eureka Server
  * Внешний порт: 8761

  * Регистрация всех сервисов

  * Панель: http://localhost:8761

### Схема архитектуры
```plaintext
                 +-----------------+
                 |  API Gateway    |
                 |  (Spring Cloud) |
                 +--------+--------+
                          |
         +----------------+-----------------+
         |                                  |
+--------v---------+             +----------v----------+            +----------------------+
| File Storage     |             | File Analysis       |----------->|  WordCloudAPI        |
| - хранение файлов|             | - анализ на         |            |  (внешний сервис)    |
+--------+---------+             |   схожесть          |            +----------------------+
         |                       +----------+----------+
         v                                  v
+-------------------+           +-----------------------+
| PostgreSQL        |           | PostgreSQL            |
| (Файлы)           |           | (Результаты анализов) |
+-------------------+           +-----------------------+
```

### Структура репозитория
```plaintext
anti-plagiat-system/
├── api-gateway/
├── file-analysis-service/
├── file-storage-service/
├── eureka-server/
├── docker-compose.yml
└── README.md
```

## Запуск

Перейдите в корневую директорию и напишите в терминал:

```
docker compose up
```

После запуска, документация для каждого микросервиса и управление ими доступны на Swagger по:
http://localhost:8080/swagger-ui.html

Возможны задержки с загрузкой. Если Swagger не открывается сразу после запуска, нужно немного подождать.
